CONTIKI_PROJECT = rpl-node
all: $(CONTIKI_PROJECT)

CONTIKI ?= ../../contiki-ng-brpl

MAKE_ROUTING ?= MAKE_ROUTING_RPL_CLASSIC

ATTACKER_ID ?= 6
ATTACK_RATE ?= 0.0
ROOT_ID ?= 1
SEND_INTERVAL ?= 30
SEND_JITTER ?= 5
DATA_PORT ?= 3000
ATTACK_STATS_PERIOD ?= 300

CFLAGS += -DATTACKER_ID=$(ATTACKER_ID)
CFLAGS += -DATTACK_RATE=$(ATTACK_RATE)
CFLAGS += -DROOT_ID=$(ROOT_ID)
CFLAGS += -DSEND_INTERVAL=$(SEND_INTERVAL)
CFLAGS += -DSEND_JITTER=$(SEND_JITTER)
CFLAGS += -DDATA_PORT=$(DATA_PORT)
CFLAGS += -DATTACK_STATS_PERIOD=$(ATTACK_STATS_PERIOD)

ifeq ($(BRPL),1)
CFLAGS += -DBRPL_CONF_ENABLE=1
CFLAGS += -DRPL_CONF_OF_OCP=RPL_OCP_BRPL
endif

include $(CONTIKI)/Makefile.dir-variables
include $(CONTIKI)/Makefile.include
